export type Channel = "sms" | "whatsapp";

export interface MessageTemplate {
  id: string;
  channel: Channel;
  title: string;
  body: string;
  description: string;
  variables: string[];
}

const sharedClosing =
  "à¤…à¤­à¥€ à¤†à¤µà¥‡à¤¦à¤¨ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤µà¤¿à¤¶à¤«à¤¿à¤¨ à¤¡à¥‰à¤Ÿ à¤•à¥‰à¤® à¤ªà¤° à¤…à¤ªà¤¨à¥‡ à¤¸à¤ªà¤¨à¥‹à¤‚ à¤•à¥‹ à¤ªà¥‚à¤°à¤¾ à¤•à¤°à¤¨à¥‡ à¤•à¤¾ à¤®à¥Œà¤•à¤¾ à¤ªà¤¾à¤à¤‚à¥¤";

export const messageTemplates: MessageTemplate[] = [
  {
    id: "sms_welcome",
    channel: "sms",
    title: "à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¸à¤‚à¤¦à¥‡à¤¶",
    description:
      "à¤ªà¤¹à¤²à¥€ à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤­à¥‡à¤œà¥‡à¤‚ à¤¤à¤¾à¤•à¤¿ à¤—à¥à¤°à¤¾à¤¹à¤• à¤•à¥‹ à¤¹à¤®à¤¾à¤°à¥€ à¤¸à¥‡à¤µà¤¾à¤“à¤‚ à¤•à¥€ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€ à¤®à¤¿à¤² à¤¸à¤•à¥‡à¥¤",
    variables: ["name"],
    body:
      "à¤¨à¤®à¤¸à¥à¤¤à¥‡ {{name}}, à¤®à¥ˆà¤‚ à¤µà¤¿à¤¶à¤«à¤¿à¤¨ à¤¡à¥‰à¤Ÿ à¤•à¥‰à¤® à¤¸à¥‡ à¤¬à¥‹à¤² à¤°à¤¹à¤¾/à¤°à¤¹à¥€ à¤¹à¥‚à¤à¥¤ à¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤¸à¤¬à¤¸à¥‡ à¤‰à¤ªà¤¯à¥à¤•à¥à¤¤ à¤²à¥‹à¤¨ à¤µà¤¿à¤•à¤²à¥à¤ª à¤šà¥à¤¨à¤¨à¥‡ à¤®à¥‡à¤‚ à¤®à¥ˆà¤‚ à¤®à¤¦à¤¦ à¤•à¤° à¤¸à¤•à¤¤à¤¾/à¤¸à¤•à¤¤à¥€ à¤¹à¥‚à¤à¥¤ " +
      sharedClosing,
  },
  {
    id: "sms_docs",
    channel: "sms",
    title: "à¤¦à¤¸à¥à¤¤à¤¾à¤µà¥‡à¤œà¤¼ à¤šà¥‡à¤•à¤²à¤¿à¤¸à¥à¤Ÿ",
    description:
      "à¤‰à¤¨ à¤—à¥à¤°à¤¾à¤¹à¤•à¥‹à¤‚ à¤•à¥‹ à¤­à¥‡à¤œà¥‡à¤‚ à¤œà¤¿à¤¨à¥à¤¹à¥‹à¤‚à¤¨à¥‡ à¤†à¤µà¥‡à¤¦à¤¨ à¤†à¤—à¥‡ à¤¬à¤¢à¤¼à¤¾à¤¨à¥‡ à¤•à¥€ à¤¸à¤¹à¤®à¤¤à¤¿ à¤¦à¥€ à¤¹à¥ˆà¥¤",
    variables: ["name"],
    body:
      "à¤ªà¥à¤°à¤¿à¤¯ {{name}}, à¤†à¤ªà¤•à¥‡ à¤²à¥‹à¤¨ à¤†à¤µà¥‡à¤¦à¤¨ à¤•à¥‡ à¤²à¤¿à¤ à¤¨à¤¿à¤®à¥à¤¨ à¤¦à¤¸à¥à¤¤à¤¾à¤µà¥‡à¤œà¤¼ à¤¤à¥ˆà¤¯à¤¾à¤° à¤°à¤–à¥‡à¤‚: à¤†à¤§à¤¾à¤° à¤•à¤¾à¤°à¥à¤¡, à¤ªà¥ˆà¤¨ à¤•à¤¾à¤°à¥à¤¡, à¤ªà¤¤à¥‡ à¤•à¤¾ à¤ªà¥à¤°à¤®à¤¾à¤£, à¤†à¤¯ à¤•à¤¾ à¤ªà¥à¤°à¤®à¤¾à¤£à¥¤ " +
      sharedClosing,
  },
  {
    id: "wa_followup",
    channel: "whatsapp",
    title: "à¤µà¥à¤¹à¤¾à¤Ÿà¥à¤¸à¤à¤ª à¤«à¥‰à¤²à¥‹-à¤…à¤ª",
    description:
      "à¤«à¥‹à¤¨ à¤ªà¤° à¤¬à¤¾à¤¤à¤šà¥€à¤¤ à¤•à¥‡ à¤¬à¤¾à¤¦ à¤µà¥à¤¹à¤¾à¤Ÿà¥à¤¸à¤à¤ª à¤ªà¤° à¤¤à¥à¤°à¤‚à¤¤ à¤­à¥‡à¤œà¥‡à¤‚ à¤¤à¤¾à¤•à¤¿ à¤—à¥à¤°à¤¾à¤¹à¤• à¤•à¥‡ à¤ªà¤¾à¤¸ à¤¸à¤‚à¤¦à¤°à¥à¤­ à¤°à¤¹à¥‡à¥¤",
    variables: ["name"],
    body:
      "à¤¹à¥ˆà¤²à¥‹ {{name}} ðŸ‘‹ðŸ¼\nà¤®à¥ˆà¤‚ à¤µà¤¿à¤¶à¤«à¤¿à¤¨ à¤¡à¥‰à¤Ÿ à¤•à¥‰à¤® à¤¸à¥‡ à¤¬à¥‹à¤² à¤°à¤¹à¤¾/à¤°à¤¹à¥€ à¤¹à¥‚à¤à¥¤ à¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤¬à¥à¤¯à¤¾à¤œ à¤¦à¤°à¥‡à¤‚, à¤ªà¥à¤°à¤¸à¤‚à¤¸à¥à¤•à¤°à¤£ à¤¶à¥à¤²à¥à¤• à¤”à¤° à¤¦à¤¸à¥à¤¤à¤¾à¤µà¥‡à¤œà¤¼ à¤ªà¥à¤°à¤•à¥à¤°à¤¿à¤¯à¤¾ à¤¸à¤°à¤² à¤•à¤° à¤¦à¥€ à¤—à¤ˆ à¤¹à¥ˆà¥¤ " +
      sharedClosing +
      "\nà¤¯à¤¹à¤¾à¤ à¤œà¤µà¤¾à¤¬ à¤¦à¥‡à¤•à¤° à¤…à¤ªà¤¨à¥€ à¤œà¤¼à¤°à¥‚à¤°à¤¤ à¤¬à¤¤à¤¾à¤à¤‚, à¤¹à¤® à¤¤à¥à¤°à¤‚à¤¤ à¤¸à¤¹à¤¾à¤¯à¤¤à¤¾ à¤•à¤°à¥‡à¤‚à¤—à¥‡à¥¤",
  },
  {
    id: "wa_offer",
    channel: "whatsapp",
    title: "à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤‘à¤«à¤¼à¤° à¤²à¤¿à¤‚à¤•",
    description:
      "à¤‰à¤šà¥à¤š à¤°à¥à¤šà¤¿ à¤°à¤–à¤¨à¥‡ à¤µà¤¾à¤²à¥‡ à¤—à¥à¤°à¤¾à¤¹à¤•à¥‹à¤‚ à¤•à¥‹ à¤­à¥‡à¤œà¥‡à¤‚ à¤œà¤¿à¤¨à¤•à¥‡ à¤ªà¤¾à¤¸ à¤†à¤µà¥‡à¤¦à¤¨ à¤²à¤¿à¤‚à¤• à¤šà¤¾à¤¹à¤¿à¤à¥¤",
    variables: ["name", "link"],
    body:
      "à¤ªà¥à¤°à¤¿à¤¯ {{name}},\nà¤†à¤ªà¤•à¥‡ à¤²à¤¿à¤ à¤µà¤¿à¤¶à¤«à¤¿à¤¨ à¤•à¤¾ à¤šà¥à¤¨à¤¾ à¤¹à¥à¤† à¤²à¥‹à¤¨ à¤‘à¤«à¤¼à¤° à¤¤à¥ˆà¤¯à¤¾à¤° à¤¹à¥ˆà¥¤ à¤‡à¤¸ à¤²à¤¿à¤‚à¤• à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤° à¤•à¥‡ à¤†à¤—à¥‡ à¤¬à¤¢à¤¼à¥‡à¤‚: {{link}}\n" +
      sharedClosing,
  },
];

export function getTemplateById(id: string) {
  return messageTemplates.find((template) => template.id === id);
}

export function fillTemplate(
  template: MessageTemplate,
  variables: Record<string, string | undefined>,
) {
  return template.variables.reduce((result, variable) => {
    const value = variables[variable] ?? "";
    return result.replaceAll(`{{${variable}}}`, value);
  }, template.body);
}

